---
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import HeroHeader from "../components/HeroHeader.astro";
import BackToTop from "../components/BackToTop.astro";

const { title, subtitle, date, upload, background } = Astro.props;
const BASE = import.meta.env.BASE_URL || '/';
---

<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content={title} />
    <meta name="author" content="洛穹偎" />
    <title>{title} - 洛穹偎的一家言</title>
    <link rel="icon" type="image/x-icon" href={`${BASE}assets/favicon.ico`} />
    <link rel="preload" as="image" href={background}>
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.3.0/css/all.css" crossorigin="anonymous"/>
    <link href={`${BASE}css/styles.css`} rel="stylesheet" />
  </head>

  <body>
    <Navbar />

    <HeroHeader
      title={title}
      subtitle={subtitle}
      background={background}
      meta={`Posted on ${date}, uploaded on ${upload}`}
    />

    <article class="mb-4">
      <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
            <slot />
          </div>
        </div>
      </div>
    </article>
    <BackToTop />
    <Footer />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" is:inline></script>
    <script src={`${BASE}js/scripts.js`} is:inline></script>
  </body>
</html>
